{% extends "Base.html" %}
{% load staticfiles %}
{% load SmoCustomFilters %}

{% block scripts_and_styles %}
<script src="{% static 'SmoUtil.js' %}"></script>
<script>
angular.module('{{view.appName}}', ['ui.bootstrap', 'smo'])
	.config(['$httpProvider', function($httpProvider) {
	    $httpProvider.defaults.xsrfCookieName = 'csrftoken';
	    $httpProvider.defaults.xsrfHeaderName = 'X-CSRFToken';
	}])
	.controller('{{view.controllerName}}', 
		[ '$scope', function($scope) {
	}]);
</script>
{% endblock %}

{% block pills %}
	{% for module in view.modules %}
		<li role="presentation" class="{% if module.active %}active{% endif %}">
			<a id="{{module.name}}Pill" data-target="#{{module.name}}Content" role="tab" data-toggle="tab">{{module.label}}</a>
		</li>	
	{% endfor %}
{% endblock %}

{% block content %}
<div ng-app="{{view.appName}}" ng-controller="{{view.controllerName}}">
	<div class="tab-content">
		{% for module in view.modules %}
			<div class="tab-pane page-container {% if module.active %} active {% endif %}" id="{{module.name}}Content">				
				{% for block in module.modelBlocks %}
					<div class="section">			
						{% if block|isModelView %}
							<div smo-model-view="{{block.name}}" view-type="{{block.ioType}}"></div>
						{% endif %}
					</div>
				{% endfor %}
			</div>
		{% endfor %}
	</div>
</div>
{% endblock %}