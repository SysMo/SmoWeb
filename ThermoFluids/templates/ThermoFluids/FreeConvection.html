{% extends "Base.html" %}
{% load bootstrap_toolkit %}
{% load staticfiles %}

{% block scripts_and_styles %}
<script src="{% static 'SmoUtil.js' %}"></script>
<link rel="stylesheet" type="text/css" href="{% static 'css/SmoInputOutputView.css' %}">
<script>
angular.module('FreeConvection', ['ui.bootstrap', 'smo'])
	.config(['$httpProvider', function($httpProvider) {
	    $httpProvider.defaults.xsrfCookieName = 'csrftoken';
	    $httpProvider.defaults.xsrfHeaderName = 'X-CSRFToken';
	}])
	.controller('FreeConvectionController', 
		[ '$scope', function($scope) {
 		$scope.inputsConvection_External = { autoFetch : true, dataUrl: '/ThermoFluids/FreeConvection/', action: 'getInputs_External'};
 		$scope.outputsConvection_External = { dataUrl: '/ThermoFluids/FreeConvection/', action: 'compute_External'};
 		$scope.inputsConvection_Internal = { autoFetch : true, dataUrl: '/ThermoFluids/FreeConvection/', action: 'getInputs_Internal'};
 		$scope.outputsConvection_Internal = { dataUrl: '/ThermoFluids/FreeConvection/', action: 'compute_Internal'};
 		
 		$scope.compute_External = function() {
			$scope.outputsConvection_External.fetchData($scope.inputsConvection_External.data.values);
//	 		$scope.inputsWireHeating = { autoFetch : true, dataUrl: '/ThermoFluids/FreeConvection/', action: 'getInputs_WireSpotHeating'};
		}
		$scope.compute_Internal = function() {
			$scope.outputsConvection_Internal.fetchData($scope.inputsConvection_Internal.data.values);
		}
		
	}]);
</script>
{% endblock %}

{% block pills %}
	<li class="active" role="presentation"><a id="externalTab" data-target="#external" role="tab" data-toggle="tab">External</a></li>
	<li role="presentation"><a id="internalTab" data-target="#internal" role="tab" data-toggle="tab">Internal</a></li>
	<li role="presentation"><a id="docTab" data-target="#doc" role="tab" data-toggle="tab">Doc</a></li>
{% endblock %}

{% block content %}
<div ng-app="FreeConvection" ng-controller="FreeConvectionController">
	<div class="tab-content">
		<div class="tab-pane active page-container" id="external">
			<h1 class="title">Free convection (external flow)</h1>
			<div class="title-figure">
<!-- 				<img src="{% static '' %}" type="image/svg+xml"></object> -->
			</div>
			<div class="section"> 		
				<div ng-form name="externalForm">
					<div smo-input-view="inputsConvection_External"></div>
				</div>
			</div>
			<div class="section" style="margin-left: 20px;">		
				<div ng-show="inputsConvection_External"><button ng-disabled="!externalForm.$valid" class="btn btn-default" ng-click="compute_External()">Compute</button></div>
			</div>
			<div class="section"> 
				<div smo-output-view="outputsConvection_External"></div>
			</div>
		</div>
		<div class="tab-pane page-container" id="internal">
			<h1 class="title">Free convection (internal flow)</h1>
			<div class="title-figure">
<!-- 				<img src="{% static '' %}" type="image/svg+xml"></object> -->
			</div>
			<div class="section"> 		
				<div ng-form name="internalForm">
					<div smo-input-view="inputsConvection_Internal"></div>
				</div>
			</div>
			<div class="section" style="margin-left: 20px;">		
				<div ng-show="inputsConvection_Internal"><button ng-disabled="!internalForm.$valid" class="btn btn-default" ng-click="compute_Internal()">Compute</button></div>
			</div>
			<div class="section"> 
				<div smo-output-view="outputsConvection_Internal"></div>
			</div>
		</div>
		<div class="tab-pane" id="doc">
			<div class="docview">
				{% include 'documentation/html/FreeConvection.html' %}
			</div>
		</div>
	</div>
</div>
{% endblock %}

